[gd_scene load_steps=9 format=3 uid="uid://x7rbbt2guqwb"]

[ext_resource type="Script" uid="uid://d1qbqldgo5lg5" path="res://Scripts/Shotgun.cs" id="1_le4fu"]
[ext_resource type="PackedScene" uid="uid://s26fptcpltra" path="res://Assets/Weapons/Shotgun/shotgun.gltf" id="3_8yrp6"]
[ext_resource type="Texture2D" uid="uid://b8yuywnais6h" path="res://Assets/Weapons/Shotgun/weaponAlbedo.webp" id="3_k8xh5"]
[ext_resource type="AudioStream" uid="uid://7c5tme0goypp" path="res://Assets/Sound/Sound Effects/shotgun_shot.wav" id="5_bxrrh"]
[ext_resource type="AudioStream" uid="uid://10vwl3g7mt1n" path="res://Assets/Sound/Sound Effects/equip_shotgun.wav" id="6_k8xh5"]
[ext_resource type="AudioStream" uid="uid://56drn34px175" path="res://Assets/Sound/Sound Effects/shotgun_reload.wav" id="6_y1g25"]

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_y1g25"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_8yrp6"]
transparency = 2
alpha_scissor_threshold = 0.1
alpha_antialiasing_mode = 0
albedo_texture = ExtResource("3_k8xh5")
emission = Color(0.943533, 0.779153, 0.220814, 1)
emission_energy_multiplier = 5.0
emission_operator = 1
emission_texture = SubResource("CompressedTexture2D_y1g25")
texture_filter = 0

[node name="Shotgun" type="Node3D" node_paths=PackedStringArray("animation", "shootSound", "reloadSound", "equipSound")]
physics_interpolation_mode = 2
transform = Transform3D(0.984808, -0.173648, 0, 0.173648, 0.984808, 0, 0, 0, 1, 0, 0, 0)
script = ExtResource("1_le4fu")
bulletHoleResourcePath = "res://Assets/Decals/bulletHole/bullet_hole.tscn"
shotgunJumpForce = 90.0
animation = NodePath("shotgun/AnimationPlayer")
bulletSpreadAmount = 2.0
shootSound = NodePath("Shoot Sound")
reloadSound = NodePath("Reload Sound")
equipSound = NodePath("Equip Sound")
damage = 1

[node name="RayCast3D" type="RayCast3D" parent="."]
physics_interpolation_mode = 2
target_position = Vector3(0, 0, -100)
collision_mask = 17
collide_with_areas = true

[node name="Drag Timer" type="Timer" parent="."]
wait_time = 0.4
one_shot = true

[node name="shotgun" parent="." instance=ExtResource("3_8yrp6")]
transform = Transform3D(0.984808, 0.173648, 0, -0.173648, 0.984808, 0, 0, 0, 1, -0.104, -0.6, 0.05)

[node name="Skeleton3D" parent="shotgun/shotgunRig" index="0"]
bones/0/position = Vector3(0.64015, -0.194811, -0.0837824)
bones/0/rotation = Quaternion(4.22715e-07, 0.771505, -0.636223, -5.15239e-07)
bones/1/rotation = Quaternion(0.0943152, -5.9339e-07, 7.04575e-08, 0.995542)
bones/2/position = Vector3(0.093528, -0.235919, -0.157051)
bones/2/rotation = Quaternion(-0.0067322, 0.707075, -0.00673273, 0.707075)
bones/3/position = Vector3(-0.0904265, -0.235919, -0.157051)
bones/3/rotation = Quaternion(-0.0095208, 4.3801e-08, 4.32773e-08, 0.999955)
bones/4/position = Vector3(-3.11037e-08, 0.221254, 0.08825)
bones/4/rotation = Quaternion(0.527835, -1.0125e-07, 6.46006e-07, 0.849347)
bones/4/scale = Vector3(1.24671, 1.24671, 1.24671)
bones/5/position = Vector3(0.64015, -0.0853306, -1.82847)
bones/5/rotation = Quaternion(0, 1, 0, -1.94707e-07)
bones/5/scale = Vector3(0, 0, 0)

[node name="shotgunModel" parent="shotgun/shotgunRig/Skeleton3D" index="0"]
material_override = SubResource("StandardMaterial3D_8yrp6")

[node name="Shoot Sound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("5_bxrrh")
bus = &"SFX"

[node name="Equip Sound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("6_k8xh5")
bus = &"SFX"

[node name="Reload Sound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("6_y1g25")
bus = &"SFX"

[connection signal="animation_finished" from="shotgun/AnimationPlayer" to="." method="OnAnimationFinished"]

[editable path="shotgun"]
